<!doctype html><html lang=pl dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Testy CLion z Nucleo G0 | mdnj</title>
<meta name=keywords content><meta name=description content="Test CLion w Embedded
Aktualne doÅ›wiadczenie z rÃ³Å¼nymi Å›rodowiskami i edytorami
Ostatnio miaÅ‚em okazjÄ™ pracowaÄ‡ w Å›rodowisku CLion, dlatego postanowiÅ‚em przetestowaÄ‡ go w kontekÅ›cie Embedded. KorzystaÅ‚em z CLion przy mini-projekcie na studia w C++ i pisaÅ‚o siÄ™ Å›wietnie, wiÄ™c stwierdziÅ‚em, Å¼e warto sprÃ³bowaÄ‡ rÃ³wnieÅ¼ w kontekÅ›cie projektu Embedded. Moje doÅ›wiadczenia z rÃ³Å¼nymi IDE do Embedded, takimi jak CubeIDE, CrossStudio, czy VSC z rozszerzeniami, nie byÅ‚y do tej pory zbyt imponujÄ…ce (byÅ‚y okej, ale zawsze czegoÅ› brakowaÅ‚o). Zwykle korzystam z procesorÃ³w STM32. Celem byÅ‚o sprawdzenie, czy CLion uÅ‚atwia debugowanie i pisanie kodu (1 IDE bez dodatkowych edytorÃ³w). ChciaÅ‚em teÅ¼ uniknÄ…Ä‡ korzystania z OpenOCD (nie zawsze wydajÄ™ mi siÄ™, Å¼e jest to stabilne rozwiÄ…zanie - mam zÅ‚e doÅ›wiadczenia przy debugowaniu Zephyra na Windows)."><meta name=author content="MichaÅ‚ Dunajski"><link rel=canonical href=https://dunajski.github.io/pl/posts/2025-05-03-go-clion-post-pl/><link crossorigin=anonymous href=/assets/css/stylesheet.f49d66caae9ea0fd43f21f29e71a8d3e284517ed770f2aa86fa012953ad3c9ef.css integrity="sha256-9J1myq6eoP1D8h8p5xqNPihFF+13Dyqob6ASlTrTye8=" rel="preload stylesheet" as=style><link rel=icon href=https://dunajski.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://dunajski.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://dunajski.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://dunajski.github.io/apple-touch-icon.png><link rel=mask-icon href=https://dunajski.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=pl href=https://dunajski.github.io/pl/posts/2025-05-03-go-clion-post-pl/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:url" content="https://dunajski.github.io/pl/posts/2025-05-03-go-clion-post-pl/"><meta property="og:site_name" content="mdnj"><meta property="og:title" content="Testy CLion z Nucleo G0"><meta property="og:description" content="Test CLion w Embedded Aktualne doÅ›wiadczenie z rÃ³Å¼nymi Å›rodowiskami i edytorami Ostatnio miaÅ‚em okazjÄ™ pracowaÄ‡ w Å›rodowisku CLion, dlatego postanowiÅ‚em przetestowaÄ‡ go w kontekÅ›cie Embedded. KorzystaÅ‚em z CLion przy mini-projekcie na studia w C++ i pisaÅ‚o siÄ™ Å›wietnie, wiÄ™c stwierdziÅ‚em, Å¼e warto sprÃ³bowaÄ‡ rÃ³wnieÅ¼ w kontekÅ›cie projektu Embedded. Moje doÅ›wiadczenia z rÃ³Å¼nymi IDE do Embedded, takimi jak CubeIDE, CrossStudio, czy VSC z rozszerzeniami, nie byÅ‚y do tej pory zbyt imponujÄ…ce (byÅ‚y okej, ale zawsze czegoÅ› brakowaÅ‚o). Zwykle korzystam z procesorÃ³w STM32. Celem byÅ‚o sprawdzenie, czy CLion uÅ‚atwia debugowanie i pisanie kodu (1 IDE bez dodatkowych edytorÃ³w). ChciaÅ‚em teÅ¼ uniknÄ…Ä‡ korzystania z OpenOCD (nie zawsze wydajÄ™ mi siÄ™, Å¼e jest to stabilne rozwiÄ…zanie - mam zÅ‚e doÅ›wiadczenia przy debugowaniu Zephyra na Windows)."><meta property="og:locale" content="pl"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2025-05-03T00:00:00+00:00"><meta property="article:modified_time" content="2025-05-03T00:00:00+00:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="Testy CLion z Nucleo G0"><meta name=twitter:description content="Test CLion w Embedded
Aktualne doÅ›wiadczenie z rÃ³Å¼nymi Å›rodowiskami i edytorami
Ostatnio miaÅ‚em okazjÄ™ pracowaÄ‡ w Å›rodowisku CLion, dlatego postanowiÅ‚em przetestowaÄ‡ go w kontekÅ›cie Embedded. KorzystaÅ‚em z CLion przy mini-projekcie na studia w C++ i pisaÅ‚o siÄ™ Å›wietnie, wiÄ™c stwierdziÅ‚em, Å¼e warto sprÃ³bowaÄ‡ rÃ³wnieÅ¼ w kontekÅ›cie projektu Embedded. Moje doÅ›wiadczenia z rÃ³Å¼nymi IDE do Embedded, takimi jak CubeIDE, CrossStudio, czy VSC z rozszerzeniami, nie byÅ‚y do tej pory zbyt imponujÄ…ce (byÅ‚y okej, ale zawsze czegoÅ› brakowaÅ‚o). Zwykle korzystam z procesorÃ³w STM32. Celem byÅ‚o sprawdzenie, czy CLion uÅ‚atwia debugowanie i pisanie kodu (1 IDE bez dodatkowych edytorÃ³w). ChciaÅ‚em teÅ¼ uniknÄ…Ä‡ korzystania z OpenOCD (nie zawsze wydajÄ™ mi siÄ™, Å¼e jest to stabilne rozwiÄ…zanie - mam zÅ‚e doÅ›wiadczenia przy debugowaniu Zephyra na Windows)."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://dunajski.github.io/pl/posts/"},{"@type":"ListItem","position":2,"name":"Testy CLion z Nucleo G0","item":"https://dunajski.github.io/pl/posts/2025-05-03-go-clion-post-pl/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Testy CLion z Nucleo G0","name":"Testy CLion z Nucleo G0","description":"Test CLion w Embedded Aktualne doÅ›wiadczenie z rÃ³Å¼nymi Å›rodowiskami i edytorami Ostatnio miaÅ‚em okazjÄ™ pracowaÄ‡ w Å›rodowisku CLion, dlatego postanowiÅ‚em przetestowaÄ‡ go w kontekÅ›cie Embedded. KorzystaÅ‚em z CLion przy mini-projekcie na studia w C++ i pisaÅ‚o siÄ™ Å›wietnie, wiÄ™c stwierdziÅ‚em, Å¼e warto sprÃ³bowaÄ‡ rÃ³wnieÅ¼ w kontekÅ›cie projektu Embedded. Moje doÅ›wiadczenia z rÃ³Å¼nymi IDE do Embedded, takimi jak CubeIDE, CrossStudio, czy VSC z rozszerzeniami, nie byÅ‚y do tej pory zbyt imponujÄ…ce (byÅ‚y okej, ale zawsze czegoÅ› brakowaÅ‚o). Zwykle korzystam z procesorÃ³w STM32. Celem byÅ‚o sprawdzenie, czy CLion uÅ‚atwia debugowanie i pisanie kodu (1 IDE bez dodatkowych edytorÃ³w). ChciaÅ‚em teÅ¼ uniknÄ…Ä‡ korzystania z OpenOCD (nie zawsze wydajÄ™ mi siÄ™, Å¼e jest to stabilne rozwiÄ…zanie - mam zÅ‚e doÅ›wiadczenia przy debugowaniu Zephyra na Windows).\n","keywords":[],"articleBody":"Test CLion w Embedded Aktualne doÅ›wiadczenie z rÃ³Å¼nymi Å›rodowiskami i edytorami Ostatnio miaÅ‚em okazjÄ™ pracowaÄ‡ w Å›rodowisku CLion, dlatego postanowiÅ‚em przetestowaÄ‡ go w kontekÅ›cie Embedded. KorzystaÅ‚em z CLion przy mini-projekcie na studia w C++ i pisaÅ‚o siÄ™ Å›wietnie, wiÄ™c stwierdziÅ‚em, Å¼e warto sprÃ³bowaÄ‡ rÃ³wnieÅ¼ w kontekÅ›cie projektu Embedded. Moje doÅ›wiadczenia z rÃ³Å¼nymi IDE do Embedded, takimi jak CubeIDE, CrossStudio, czy VSC z rozszerzeniami, nie byÅ‚y do tej pory zbyt imponujÄ…ce (byÅ‚y okej, ale zawsze czegoÅ› brakowaÅ‚o). Zwykle korzystam z procesorÃ³w STM32. Celem byÅ‚o sprawdzenie, czy CLion uÅ‚atwia debugowanie i pisanie kodu (1 IDE bez dodatkowych edytorÃ³w). ChciaÅ‚em teÅ¼ uniknÄ…Ä‡ korzystania z OpenOCD (nie zawsze wydajÄ™ mi siÄ™, Å¼e jest to stabilne rozwiÄ…zanie - mam zÅ‚e doÅ›wiadczenia przy debugowaniu Zephyra na Windows).\nW CubeIDE irytowaÅ‚a mnie prÄ™dkoÅ›Ä‡ dziaÅ‚ania, ale za to przy generowaniu projektu bezpoÅ›rednio z CubeIDE (korzystajÄ…c z kreatorÃ³w tego Å›rodowiska) projekt dziaÅ‚aÅ‚ od razu, tzn. po jego utworzeniu i klikniÄ™ciu â€˜Buildâ€™, a potem â€˜Runâ€™/â€˜Debugâ€™ sesja debugowania lub wgrywanie firmware po prostu nastÄ™powaÅ‚o bez jakiegoÅ› grzebania w ustawieniach. Nie zmienia to faktu, Å¼e ciÄ™Å¼ko mi siÄ™ pisze w tym CubeIDE (jestem przyzwyczajony do Visual Studio Code) i przez to pisaÅ‚em kod w VSC wÅ‚aÅ›nie, a debugowaÅ‚em go w CubeIDE. Niedawno w CubeMX zostaÅ‚a dodana moÅ¼liwoÅ›Ä‡ generowania projektÃ³w w typie CMake, co przydaÅ‚o mi siÄ™ przy robieniu testÃ³w CLion.\nKorzystajÄ…c z Visual Studio Code byÅ‚o odwrotnie, tzn. z samym pisaniem i czytaniem kodu byÅ‚em zaznajomiony w tym edytorze, ale za to ustawienie debugera wymaga kilku krokÃ³w, ktÃ³re sprowadzajÄ… siÄ™ do edycji kilku plikÃ³w .json.\nCrossStudio jest dla mnie podobne do Stm32CubeIDE, przy czym samo generowanie projektu uniemoÅ¼liwia wykorzystanie bibliotek producenta bezpoÅ›rednio w generatorze projektu. Co moÅ¼e byÄ‡ pewnym problem, jeÅ¼eli (tak jak ja) zazwyczaj potrzebujÄ™ tych bibliotek bo chcÄ™ coÅ› przetestowaÄ‡, a niekoniecznie pisaÄ‡ caÅ‚ej rozbudowanej aplikacji od zera. CrossStudio dziaÅ‚a szybciej niÅ¼ CubeIDE i ma rÃ³wnieÅ¼ wygodnÄ… konfiguracjÄ™ z debugerem STM.\nMini-test Konfiguracja testowa byÅ‚a nastÄ™pujÄ…ca:\nNucleo G071RB (link do pÅ‚ytki), CLion 2025.1 (link do CLion), STM32CubeCLT (link do STM32CubeCLT), STM32CubeMX 6.14.1 (link do STM32CubeMX), arm-none-eabi-gcc 10.3 (link do gcc), MÃ³j stary, niedokoÅ„czony (ğŸ˜…) projekt zegara do gry w piÅ‚kÄ™ [repozytorium], Windows 11. CubeMX oraz CLion miaÅ‚em juÅ¼ zainstalowane. CLion sugerowaÅ‚, abym zainstalowaÅ‚ CubeCLT, aby poprawnie wygenerowaÄ‡ projekt.\nW chwili pisania tego tekstu JetBrains wprowadza nowe funkcjonalnoÅ›ci dla Embedded Development, szczegÃ³lnie dla STM32. W przyszÅ‚oÅ›ci warto bÄ™dzie je przetestowaÄ‡, by sprawiedliwie porÃ³wnaÄ‡ moÅ¼liwoÅ›ci.\nZaczÄ…Å‚em od przeczytania dokumentacji na temat uruchamiania projektÃ³w z pliku .ioc(link do rozdziaÅ‚u). Wydaje mi siÄ™ jednak, Å¼e ta metoda niedÅ‚ugo stanie siÄ™ przestarzaÅ‚a, biorÄ…c pod uwagÄ™, Å¼e CubeMX teraz umoÅ¼liwia generowanie projektÃ³w z toolchainem CMake.\nMetoda z dokumentacji JetBrains nie dziaÅ‚aÅ‚a poprawnie, wiÄ™c postanowiÅ‚em sprÃ³bowaÄ‡ tej dostÄ™pnej bezpoÅ›rednio w CLion. Po wybraniu opcji File -\u003e New -\u003e Project -\u003e STM32CubeMX pojawiÅ‚o siÄ™ okno, ktÃ³re pozwoliÅ‚o mi na zaÅ‚adowanie projektu. DziaÅ‚aÅ‚o to bez problemu, ale najlepiej sprawdza siÄ™ w przypadku nowych projektÃ³w wygenerowanych przez CubeMX, w ktÃ³rych od razu wybrano toolchain CMake.\nCzysty projekt, a stary projekt JeÅ¼eli masz moÅ¼liwoÅ›Ä‡, sprÃ³buj testowaÄ‡ CLion na Å›wieÅ¼ych projektach z wybranym toolchainem CMake. W moim przypadku musiaÅ‚em wykonaÄ‡ kilka krokÃ³w w CubeMX: zapisaÅ‚em mÃ³j stary projekt w nowym miejscu, zmieniÅ‚em toolchain na CMake i wygenerowaÅ‚em projekt na nowo. DodaÅ‚em rÃ³wnieÅ¼ rÄ™cznie pliki do CMakeLists.txt.\n# Add sources to executable target_sources(${CMAKE_PROJECT_NAME} PRIVATE # Add user sources here ${CMAKE_SOURCE_DIR}/Core/Src/buttons.c ${CMAKE_SOURCE_DIR}/Core/Src/menus.c ${CMAKE_SOURCE_DIR}/Core/Src/game.c ) Debugowanie Po kilku drobnych problemach z CLion, CMake i CubeMX udaÅ‚o mi siÄ™ w koÅ„cu zbudowaÄ‡ projekt (domyÅ›lnie ctrl + shift + B w CLion). NastÄ™pnie skonfigurowaÅ‚em sesjÄ™ debugowÄ… za pomocÄ… GDB servera ST-Link, co okazaÅ‚o siÄ™ niezwykle pomocne dziÄ™ki dokumentacji JetBrains.\nZa pomocÄ… okna New Embedded GDB Server Run Configuration stworzyÅ‚em konfiguracjÄ™, ktÃ³ra uruchamiaÅ‚a sesjÄ™ debugowÄ… po naciÅ›niÄ™ciu F5.\nMoja konfiguracja miaÅ‚a nazwÄ™ stm-gdb i teraz po naciÅ›niÄ™ciu F5 rozpoczyna siÄ™ sesja debugowa. MusiaÅ‚em jeszcze doÅ‚Ä…czyÄ‡ plik .svd od producenta Å¼eby mÃ³c mieÄ‡ podglÄ…d na wartoÅ›ci rejestrÃ³w MCU w zakÅ‚adce Peripherals .\nOcena Testy CLion w Embedded z uÅ¼yciem Nucleo G071RB, STM32CubeMX wstÄ™pnie oceniam na 4/5. Po kilku poczÄ…tkowych problemach z konfiguracjÄ…, CLion udostÄ™pnia wygodne narzÄ™dzia do pisania i debugowania kodu. Podobne Å›rodowiska (takie jak CubeIDE) oferujÄ… Å‚atwiejszÄ… konfiguracjÄ™ debuggera, ale CLion sprawdza siÄ™ dobrze, szczegÃ³lnie z projektami opartymi na CMake. Nie mogÄ™ daÄ‡ wyÅ¼szej oceny ze wzglÄ™du na to, Å¼e kilkukrotnie miaÅ‚em crash CLiona przy zmianie projektÃ³w oraz za to, Å¼e dla projektu wczeÅ›niej utworzonego (a nie nowego) nie poszÅ‚o to tak gÅ‚adko.\nNie zmienia to faktu, Å¼e testy byÅ‚y doÅ›Ä‡ powierzchowne wiÄ™c Å¼eby mieÄ‡ takÄ… ugruntowanÄ… opiniÄ™ musiaÅ‚bym wiÄ™cej spÄ™dziÄ‡ czasu przy uÅ¼ywaniu CLiona. Co nie zmienia faktu, Å¼e zamierzam, go teraz uÅ¼ywaÄ‡ do przyszÅ‚ych projektÃ³w i mnie nie zniechÄ™ciÅ‚o.\n","wordCount":"763","inLanguage":"pl","datePublished":"2025-05-03T00:00:00Z","dateModified":"2025-05-03T00:00:00Z","author":{"@type":"Person","name":"MichaÅ‚ Dunajski"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://dunajski.github.io/pl/posts/2025-05-03-go-clion-post-pl/"},"publisher":{"@type":"Organization","name":"mdnj","logo":{"@type":"ImageObject","url":"https://dunajski.github.io/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://dunajski.github.io/pl/ accesskey=h title="mdnj (Alt + H)">mdnj</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button><ul class=lang-switch><li>|</li><li><a href=https://dunajski.github.io/en/ title=English aria-label=English>En</a></li></ul></div></div><ul id=menu><li><a href=https://dunajski.github.io/pl/about/ title="O mnie"><span>O mnie</span></a></li><li><a href=https://dunajski.github.io/pl/posts/ title=Blog><span>Blog</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class="post-title entry-hint-parent">Testy CLion z Nucleo G0</h1><div class=post-meta><span title='2025-05-03 00:00:00 +0000 UTC'>maja 3, 2025</span>&nbsp;Â·&nbsp;MichaÅ‚ Dunajski</div></header><div class=post-content><h2 id=test-clion-w-embedded>Test CLion w Embedded<a hidden class=anchor aria-hidden=true href=#test-clion-w-embedded>#</a></h2><h3 id=aktualne-doÅ›wiadczenie-z-rÃ³Å¼nymi-Å›rodowiskami-i-edytorami>Aktualne doÅ›wiadczenie z rÃ³Å¼nymi Å›rodowiskami i edytorami<a hidden class=anchor aria-hidden=true href=#aktualne-doÅ›wiadczenie-z-rÃ³Å¼nymi-Å›rodowiskami-i-edytorami>#</a></h3><p>Ostatnio miaÅ‚em okazjÄ™ pracowaÄ‡ w Å›rodowisku CLion, dlatego postanowiÅ‚em przetestowaÄ‡ go w kontekÅ›cie Embedded. KorzystaÅ‚em z CLion przy mini-projekcie na studia w C++ i pisaÅ‚o siÄ™ Å›wietnie, wiÄ™c stwierdziÅ‚em, Å¼e warto sprÃ³bowaÄ‡ rÃ³wnieÅ¼ w kontekÅ›cie projektu Embedded. Moje doÅ›wiadczenia z rÃ³Å¼nymi IDE do Embedded, takimi jak CubeIDE, CrossStudio, czy VSC z rozszerzeniami, nie byÅ‚y do tej pory zbyt imponujÄ…ce (byÅ‚y okej, ale zawsze czegoÅ› brakowaÅ‚o). Zwykle korzystam z procesorÃ³w STM32. Celem byÅ‚o sprawdzenie, czy CLion uÅ‚atwia debugowanie i pisanie kodu (1 IDE bez dodatkowych edytorÃ³w). ChciaÅ‚em teÅ¼ uniknÄ…Ä‡ korzystania z OpenOCD (nie zawsze wydajÄ™ mi siÄ™, Å¼e jest to stabilne rozwiÄ…zanie - mam zÅ‚e doÅ›wiadczenia przy debugowaniu Zephyra na Windows).</p><p>W CubeIDE irytowaÅ‚a mnie prÄ™dkoÅ›Ä‡ dziaÅ‚ania, ale za to przy generowaniu projektu bezpoÅ›rednio z CubeIDE (korzystajÄ…c z kreatorÃ³w tego Å›rodowiska) projekt dziaÅ‚aÅ‚ od razu, tzn. po jego utworzeniu i klikniÄ™ciu &lsquo;Build&rsquo;, a potem &lsquo;Run&rsquo;/&lsquo;Debug&rsquo; sesja debugowania lub wgrywanie firmware po prostu nastÄ™powaÅ‚o bez jakiegoÅ› grzebania w ustawieniach. Nie zmienia to faktu, Å¼e ciÄ™Å¼ko mi siÄ™ pisze w tym CubeIDE (jestem przyzwyczajony do Visual Studio Code) i przez to pisaÅ‚em kod w VSC wÅ‚aÅ›nie, a debugowaÅ‚em go w CubeIDE. Niedawno w CubeMX zostaÅ‚a dodana moÅ¼liwoÅ›Ä‡ generowania projektÃ³w w typie CMake, co przydaÅ‚o mi siÄ™ przy robieniu testÃ³w CLion.</p><p>KorzystajÄ…c z Visual Studio Code byÅ‚o odwrotnie, tzn. z samym pisaniem i czytaniem kodu byÅ‚em zaznajomiony w tym edytorze, ale za to ustawienie debugera wymaga kilku krokÃ³w, ktÃ³re sprowadzajÄ… siÄ™ do edycji kilku plikÃ³w .json.</p><p>CrossStudio jest dla mnie podobne do Stm32CubeIDE, przy czym samo generowanie projektu uniemoÅ¼liwia wykorzystanie bibliotek producenta bezpoÅ›rednio w generatorze projektu. Co moÅ¼e byÄ‡ pewnym problem, jeÅ¼eli (tak jak ja) zazwyczaj potrzebujÄ™ tych bibliotek bo chcÄ™ coÅ› przetestowaÄ‡, a niekoniecznie pisaÄ‡ caÅ‚ej rozbudowanej aplikacji od zera. CrossStudio dziaÅ‚a szybciej niÅ¼ CubeIDE i ma rÃ³wnieÅ¼ wygodnÄ… konfiguracjÄ™ z debugerem STM.</p><h3 id=mini-test>Mini-test<a hidden class=anchor aria-hidden=true href=#mini-test>#</a></h3><p>Konfiguracja testowa byÅ‚a nastÄ™pujÄ…ca:</p><ul><li><strong>Nucleo G071RB</strong> (<a href=https://www.st.com/en/evaluation-tools/nucleo-g071rb.html>link do pÅ‚ytki</a>),</li><li><strong>CLion 2025.1</strong> (<a href=https://www.jetbrains.com/clion/>link do CLion</a>),</li><li><strong>STM32CubeCLT</strong> (<a href=https://www.st.com/en/development-tools/stm32cubeclt.html>link do STM32CubeCLT</a>),</li><li><strong>STM32CubeMX 6.14.1</strong> (<a href=https://www.st.com/en/development-tools/stm32cubemx.html>link do STM32CubeMX</a>),</li><li><strong>arm-none-eabi-gcc 10.3</strong> (<a href=https://developer.arm.com/Tools%20and%20Software/GNU%20Toolchain>link do gcc</a>),</li><li>MÃ³j stary, niedokoÅ„czony (ğŸ˜…) projekt zegara do gry w piÅ‚kÄ™ [<a href=https://github.com/dunajski/football_timer>repozytorium</a>],</li><li><strong>Windows 11</strong>.</li></ul><p>CubeMX oraz CLion miaÅ‚em juÅ¼ zainstalowane. CLion sugerowaÅ‚, abym zainstalowaÅ‚ CubeCLT, aby poprawnie wygenerowaÄ‡ projekt.</p><blockquote><p>W chwili pisania tego tekstu JetBrains wprowadza nowe funkcjonalnoÅ›ci dla Embedded Development, szczegÃ³lnie dla STM32. W przyszÅ‚oÅ›ci warto bÄ™dzie je przetestowaÄ‡, by sprawiedliwie porÃ³wnaÄ‡ moÅ¼liwoÅ›ci.</p></blockquote><p>ZaczÄ…Å‚em od przeczytania dokumentacji na temat uruchamiania projektÃ³w z pliku <code>.ioc</code>(<a href="https://www.jetbrains.com/help/clion/2025.1/embedded-development.html?Embedded_Development&amp;keymap=VSCode#open-project">link do rozdziaÅ‚u</a>). Wydaje mi siÄ™ jednak, Å¼e ta metoda niedÅ‚ugo stanie siÄ™ przestarzaÅ‚a, biorÄ…c pod uwagÄ™, Å¼e CubeMX teraz umoÅ¼liwia generowanie projektÃ³w z toolchainem CMake.<img alt=cube_mx_wybor_toolchaina loading=lazy src=/images/cube_mx_cmake.png></p><p>Metoda z dokumentacji JetBrains nie dziaÅ‚aÅ‚a poprawnie, wiÄ™c postanowiÅ‚em sprÃ³bowaÄ‡ tej dostÄ™pnej bezpoÅ›rednio w CLion. Po wybraniu opcji <strong>File -> New -> Project -> STM32CubeMX</strong> pojawiÅ‚o siÄ™ okno, ktÃ³re pozwoliÅ‚o mi na zaÅ‚adowanie projektu. DziaÅ‚aÅ‚o to bez problemu, ale najlepiej sprawdza siÄ™ w przypadku nowych projektÃ³w wygenerowanych przez CubeMX, w ktÃ³rych od razu wybrano toolchain CMake.</p><h4 id=czysty-projekt-a-stary-projekt>Czysty projekt, a stary projekt<a hidden class=anchor aria-hidden=true href=#czysty-projekt-a-stary-projekt>#</a></h4><p>JeÅ¼eli masz moÅ¼liwoÅ›Ä‡, sprÃ³buj testowaÄ‡ CLion na Å›wieÅ¼ych projektach z wybranym toolchainem CMake. W moim przypadku musiaÅ‚em wykonaÄ‡ kilka krokÃ³w w CubeMX: zapisaÅ‚em mÃ³j stary projekt w nowym miejscu, zmieniÅ‚em toolchain na CMake i wygenerowaÅ‚em projekt na nowo. DodaÅ‚em rÃ³wnieÅ¼ rÄ™cznie pliki do CMakeLists.txt.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#75715e># Add sources to executable
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>target_sources</span>(<span style=color:#960050;background-color:#1e0010>$</span>{CMAKE_PROJECT_NAME} PRIVATE
</span></span><span style=display:flex><span>    <span style=color:#75715e># Add user sources here
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#960050;background-color:#1e0010>$</span>{CMAKE_SOURCE_DIR}<span style=color:#f92672>/</span>Core<span style=color:#f92672>/</span>Src<span style=color:#f92672>/</span>buttons.c
</span></span><span style=display:flex><span>        <span style=color:#960050;background-color:#1e0010>$</span>{CMAKE_SOURCE_DIR}<span style=color:#f92672>/</span>Core<span style=color:#f92672>/</span>Src<span style=color:#f92672>/</span>menus.c
</span></span><span style=display:flex><span>        <span style=color:#960050;background-color:#1e0010>$</span>{CMAKE_SOURCE_DIR}<span style=color:#f92672>/</span>Core<span style=color:#f92672>/</span>Src<span style=color:#f92672>/</span>game.c
</span></span><span style=display:flex><span>)
</span></span></code></pre></div><h3 id=debugowanie>Debugowanie<a hidden class=anchor aria-hidden=true href=#debugowanie>#</a></h3><p>Po kilku drobnych problemach z CLion, CMake i CubeMX udaÅ‚o mi siÄ™ w koÅ„cu zbudowaÄ‡ projekt (domyÅ›lnie <code>ctrl + shift + B</code> w CLion). NastÄ™pnie skonfigurowaÅ‚em sesjÄ™ debugowÄ… za pomocÄ… GDB servera ST-Link, co okazaÅ‚o siÄ™ niezwykle pomocne dziÄ™ki <a href="https://www.jetbrains.com/help/clion/2025.1/embedded-gdb-server.html?Embedded_Development&amp;keymap=VSCode&amp;utm_source=product&amp;utm_medium=link&amp;utm_campaign=CL&amp;utm_content=2025.1">dokumentacji JetBrains</a>.</p><p>Za pomocÄ… okna <strong>New Embedded GDB Server Run Configuration</strong> stworzyÅ‚em konfiguracjÄ™, ktÃ³ra uruchamiaÅ‚a sesjÄ™ debugowÄ… po naciÅ›niÄ™ciu F5.<img alt=new_emb_gdb_server loading=lazy src=/images/new_emb_gdb_server.png></p><p>Moja konfiguracja miaÅ‚a nazwÄ™ <code>stm-gdb</code> i teraz po naciÅ›niÄ™ciu F5 rozpoczyna siÄ™ sesja debugowa. <img alt=debug_session loading=lazy src=/images/debug_session.png></p><p>MusiaÅ‚em jeszcze doÅ‚Ä…czyÄ‡ plik .svd od producenta Å¼eby mÃ³c mieÄ‡ podglÄ…d na wartoÅ›ci rejestrÃ³w MCU w zakÅ‚adce <strong>Peripherals</strong> .</p><h3 id=ocena>Ocena<a hidden class=anchor aria-hidden=true href=#ocena>#</a></h3><p>Testy CLion w Embedded z uÅ¼yciem Nucleo G071RB, STM32CubeMX wstÄ™pnie oceniam na <strong>4/5</strong>. Po kilku poczÄ…tkowych problemach z konfiguracjÄ…, CLion udostÄ™pnia wygodne narzÄ™dzia do pisania i debugowania kodu. Podobne Å›rodowiska (takie jak CubeIDE) oferujÄ… Å‚atwiejszÄ… konfiguracjÄ™ debuggera, ale CLion sprawdza siÄ™ dobrze, szczegÃ³lnie z projektami opartymi na CMake. Nie mogÄ™ daÄ‡ wyÅ¼szej oceny ze wzglÄ™du na to, Å¼e kilkukrotnie miaÅ‚em crash CLiona przy zmianie projektÃ³w oraz za to, Å¼e dla projektu wczeÅ›niej utworzonego (a nie nowego) nie poszÅ‚o to tak gÅ‚adko.</p><p>Nie zmienia to faktu, Å¼e testy byÅ‚y doÅ›Ä‡ powierzchowne wiÄ™c Å¼eby mieÄ‡ takÄ… ugruntowanÄ… opiniÄ™ musiaÅ‚bym wiÄ™cej spÄ™dziÄ‡ czasu przy uÅ¼ywaniu CLiona. Co nie zmienia faktu, Å¼e zamierzam, go teraz uÅ¼ywaÄ‡ do przyszÅ‚ych projektÃ³w i mnie nie zniechÄ™ciÅ‚o.</p></div><footer class=post-footer><ul class=post-tags></ul></footer></article></main><footer class=footer><span>&copy; 2025 <a href=https://dunajski.github.io/pl/>mdnj</a></span> Â·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>